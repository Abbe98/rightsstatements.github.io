language: ruby
rvm:
- 2.1
install: gem install jekyll
script: jekyll build
branches:
  only:
  - master
after_success:
- git clone https://$GITHUB_REPO
- cd $(basename ${GITHUB_REPO%.git})
- git config user.name "Travis CI"
- git config user.email ${EMAIL}
- rsync -az --delete --exclude '.git*' ../_site/ .
- touch .nojekyll
- git add -A .
- git commit -m "Generated Jekyll site by Travis CI - ${TRAVIS_BUILD_NUMBER}"
- ! '[ "${TRAVIS_BRANCH}" = "master" ] && [ "${TRAVIS_PULL_REQUEST}" = "false" ] && git push --force --quiet "https://${DEPLOY_KEY}@${GITHUB_REPO}" HEAD:${PRODUCTION_TARGET_BRANCH} > /dev/null 2>&1'
- ! '[ "${TRAVIS_BRANCH}" = "master" ] && [ "${TRAVIS_PULL_REQUEST}" != "false" ] && git push --force --quiet "https://${DEPLOY_KEY}@${GITHUB_REPO}" HEAD:${STAGING_TARGET_BRANCH} > /dev/null 2>&1'
env:
  global:
  - GITHUB_REPO: github.com/rightsstatements/rightsstatements.github.io.git
  - STAGING_TARGET_BRANCH: pages-staging
  - PRODUCTION_TARGET_BRANCH: pages-production
  - secure: fcUbt+eAuewteV66cpux0vfNz+Z29kfOTDGA50CYtSzfCDW6Ga6RgQbKMy75na2d4LSaL4tpLZK80pikjw4Vq5bXl3JR94eXZbKIZjvg2KufcgHEUMRjbjAjhcrIS3TvIFRSNw7CTrUOrGmLRRBkFV/vwvJ86v8tKKVMqlF2+8G6DdgvF9yW+piZJ9pFUe5F/9DC+chSGYOA+/LcoaT6vrpZfz7qFe0UXHyW7Vw8y5utnwhbJ6zTvwN3c7re7gNjsE5/hj/jdsuiw53drv/HXR9m+TgpaWRslRwOF/JyKydcGZKANNBF9SW4jdUM1HfrmbYWSgL2fZfkOvVOXTuZrq46aacMrXxmJ7PFQUDXjbwAv/LXwthpb/J2GBchdqyATKYJq7EOpqKhqIEou/GD/MqbmQFLvoGnGomV0R7k305Ad60gfRlAu2VFy5Ob7rF4Lf98hGNG2DtzRhmHnnu2PEyGaRumX6rQ80ED+iIaQkCKqc7KeKShz/oCKdHQ7hIpt35WBJp7g086zjJyKcc0kK3/TMSjXKEfyj5LFQYLxCgNWK0VlPTH3Ggsg+x90iSfaDN2JnulsS5TyKDQnD1FBA8RhjNakTZM1aHkaWIiSIIQQvfc6Bw3j9eEaqwPXe7ruM+X72pfoSh6/KH08WJahnVBQuqNb3+hvKGcdOOItiw=
  - secure: Bid0+ARvbKVLLojwGEyJ36/TfY9l9J+7edz6Qxov7o5vjcJ3SY5DOlGTjt6SonP5H3/ugLBJTzdJKZidSfBzH1xkBE8nbVtUjYfUQZ0btx9a0dC2LEKN2RRo8gSEZwColA0cDmq6OY1dSYGBHPEwCi8DvN4kdBXjkpm2sTojXOf2zHVbAGfp8CAF8Pw73knS141+/Fm6RlYVGdvL2qWSdtNKcWPVKA0J8cFjY83na2W42HMgneiaGMCV+h30bc9XTbcpWCGM0iDx8CpfhP3o0idlwF/l21m4JxVEnjs9MPuQY+m0Xfznu4AT4ihfZCKaEr2GSEyw89iRFG1w5oV16C/pZNT2ziTrzYoZ+UCGCGoUXMElz1sSGOojt7pSxNJYJpSig5rQahkZw7MX6mWcw8p4a7pYqbGyUPuHOADJ+X1RjyOCFaszyQBXRBoem0AaDM+g7AglH0XUBVjkunbT7tqfdciO+07kX8jRjytdlcJs6w2pnR3FumunbVjck/XQ73PADhdi9osVe3GAwjUYsme4QEzrKWcOdmgmP0EjrCd9htnb/nnnZGgDs3SVnI4TOmY6u4JdXYudsFrilB55XcRd/e2GWsppX8BNly5HfBTOSVZNfHV8j3FftDklYkaH0m4kxvKo5PvwU3mLHDl5BmsJVN+VS/gYyatE3jPDN9E=
  - secure: tw9bfGLhUHFYNGXZT7g8eqUQYnDB9Fapg0Vj7mXE7TiX39kHmKbDU3vg9EgdX6kzx/bUVjuPODvDT4rX8SKCTsiJx+NlV6k+M/1X641mvkDU3voW/6EDN2I5ZxRBbJuP0w8zlFA4L4p+1bPjX1LNnt2xLJWG0l34KXaeU2aE9aXn9f/dQqdYJFityU3tEAhBMrI2Gx8W7Sa6K6hnLVFgg9rUNZ7GXriS/4jJsPLdwz7SgxgrSFNKhS8D7OHbGOfYNW0f1e7055797+xYk6bw/90JrTr1lHKCyUA4boWXk+dQyIboH4Ch6VeXjyws+ry1EznI8xLP7LsGWwwZm62PcQ+ja/CdK/rQVDr6ByTFDFXrlxAqeVY7f6Vmb8/dne6wf8JSgCKcBPkrgz3wEjxvY4hWdPOB9g6tnyoajzdvp17Tp9ckqywAkJ+5cLnQtFYZ3OgII53+TnMwCeBiz6s3JTE5lrB+yWfbLk++BWEtNJbsC0uOWL73fES4IgoAF1TvnhyxKbZ2BIVl4+vdc0PXjHXr+KwkPvZD4tPPFK/GeMf2Zwypow5ZFXTE5lk3dxky98Wh743+UhPcbPkVPmSieZJbT+uy0TfMlZtReCkCSFxRtMQZwzJUTqoaDd0odZSLvPvt7Xqi15RTiF4/NQm3uMQSKsgjrpR8ZUwCzY9Qc8g=
  - secure: uiqIhFTXl0vUEhyhVtwNNZxraf8E3torfuAbzudxunX6gkjDobCkvnA2/QVaEfLcekR0p3qshvlAWEBKxFPhV9YnoiRClmSJ8ChGJSnE+Zuw3aax4rjglXjdKEtC/Cz9/Kv4zdTA4GjHdkSnCCRSrKKlJuE6kHa/kQupmgjf4Wsh3sGAPuxVAHXLQ7QNzAuyHLwyXZlBsYYwtneV2EbCS87zSqN9ggR+I7D7jCFj2nbNfS1uoJRKoBkROAXe0Vewj0VntdG9YHt8O5vfE6wjVZQ4Lr9BoLjiW1PccirMRqOk1LgcG6r/U7xZf+XZStQl7Pe0Ww9u3Wbad1XbBVTnIWOcaVuOADf2qzQBiWIB4AKbvH2XTMX3WLAVksQ2iBhsNhskR8GM+dPCGVOQIM8we4ER3qexT35Z1zqai0WmuLzNrVOkh+oM0KMZHR6ByDP4g7+FmPnNk6y8xCgaecq2VUBuYG4dt6le/7UNEZmx051JPlBDjb6CYyExYTAtntws/xELYNLXdCdXRP6BlcAYTVTIxno8uLESboh+AEaGk5u+N912aQeQv2lWvxl4ckhnYuYHanIY0uFK5idyE40JxiJ+7h60enV/wKFmE603CoWm7S9kyhjP1L0bX/1NhlXuwSq4RxpEV4iI+UzPR24KjgJui2S6qhtAcwNVtGlaK/M=
